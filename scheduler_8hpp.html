<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Gator: include/scheduler.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="alligator_icon_256.png"/></td>
  <td id="projectalign">
   <div id="projectname">Data Gator
   </div>
   <div id="projectbrief">Hardware and software documentation for the Data Gator project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('scheduler_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scheduler.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Utilities for scheduling tasks and saving persistent data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;NimBLEDevice.h&gt;</code><br />
<code>#include &lt;Adafruit_MAX1704X.h&gt;</code><br />
<code>#include &lt;OWMAdafruit_ADS1015.h&gt;</code><br />
<code>#include &lt;<a class="el" href="ble__util_8hpp_source.html">ble_util.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="VWCSensor_8hpp_source.html">VWCSensor.hpp</a>&gt;</code><br />
<code>#include &lt;Teros10.hpp&gt;</code><br />
<code>#include &lt;<a class="el" href="Atlas__EZO-pH_8hpp_source.html">Atlas_EZO-pH.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Atlas__Gravity__pH_8hpp_source.html">Atlas_Gravity_pH.hpp</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for scheduler.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8hpp__incl.png" border="0" usemap="#ainclude_2scheduler_8hpp" alt=""/></div>
<map name="ainclude_2scheduler_8hpp" id="ainclude_2scheduler_8hpp">
<area shape="rect" title="Utilities for scheduling tasks and saving persistent data." alt="" coords="637,5,800,31"/>
<area shape="rect" title=" " alt="" coords="5,79,136,104"/>
<area shape="poly" title=" " alt="" coords="638,29,422,51,150,81,149,76,421,45,637,24"/>
<area shape="rect" title=" " alt="" coords="161,79,325,104"/>
<area shape="poly" title=" " alt="" coords="643,33,333,79,332,74,642,28"/>
<area shape="rect" href="OWMAdafruit__ADS1015_8h_source.html" title=" " alt="" coords="349,79,536,104"/>
<area shape="poly" title=" " alt="" coords="675,33,501,78,500,73,674,28"/>
<area shape="rect" href="ble__util_8hpp.html" title="Utilities such as callbacks for parsing bluetooth packets." alt="" coords="912,79,1011,104"/>
<area shape="poly" title=" " alt="" coords="758,28,910,72,908,77,757,33"/>
<area shape="rect" href="VWCSensor_8hpp.html" title="Interface for VWC sensors." alt="" coords="1263,152,1387,177"/>
<area shape="poly" title=" " alt="" coords="801,21,1086,41,1217,57,1263,66,1289,76,1303,90,1313,105,1324,138,1319,139,1308,108,1299,93,1287,81,1261,71,1216,62,1085,46,800,26"/>
<area shape="rect" href="Teros10_8hpp_source.html" title=" " alt="" coords="1175,79,1275,104"/>
<area shape="poly" title=" " alt="" coords="800,28,1162,78,1161,84,800,33"/>
<area shape="rect" href="Atlas__EZO-pH_8hpp.html" title="Implements I2C pH sensor which inherits from pHSensor.hpp." alt="" coords="560,79,701,104"/>
<area shape="poly" title=" " alt="" coords="706,33,657,72,654,68,703,29"/>
<area shape="rect" href="Atlas__Gravity__pH_8hpp.html" title="This file implements an analog pH sensor which inherits from pHSensor.hpp." alt="" coords="725,79,888,104"/>
<area shape="poly" title=" " alt="" coords="734,29,783,68,780,72,731,33"/>
<area shape="rect" title=" " alt="" coords="375,152,478,177"/>
<area shape="poly" title=" " alt="" coords="443,105,435,139,430,138,437,104"/>
<area shape="rect" title=" " alt="" coords="503,152,567,177"/>
<area shape="poly" title=" " alt="" coords="459,102,511,141,507,146,456,106"/>
<area shape="rect" title=" " alt="" coords="508,225,708,251"/>
<area shape="poly" title=" " alt="" coords="929,107,798,154,646,222,644,217,796,150,927,101"/>
<area shape="rect" href="BLESensor_8hpp.html" title="This file implements BLE Sensor generic interface." alt="" coords="732,225,849,251"/>
<area shape="poly" title=" " alt="" coords="913,104,863,122,839,136,818,154,802,182,795,212,790,211,797,180,814,150,836,131,860,117,911,99"/>
<area shape="rect" href="MinewS1_8hpp.html" title="Implementation of the Minew S1 bluetooth sensor family. Extends BLESensor.hpp." alt="" coords="828,152,937,177"/>
<area shape="poly" title=" " alt="" coords="950,106,907,145,904,141,947,102"/>
<area shape="rect" href="KKM__K6P_8hpp.html" title="Contains the definition of the KKM K6P BLE sensor, which is based on the BLESensor...." alt="" coords="962,152,1073,177"/>
<area shape="poly" title=" " alt="" coords="973,103,1002,140,998,143,968,106"/>
<area shape="rect" href="logger_8hpp.html" title="Logging Utilities for detecting and selecting logging interfaces." alt="" coords="1097,152,1188,177"/>
<area shape="poly" title=" " alt="" coords="991,102,1101,144,1099,149,989,107"/>
<area shape="poly" title=" " alt="" coords="839,180,666,224,665,219,838,175"/>
<area shape="poly" title=" " alt="" coords="870,179,818,219,815,215,866,175"/>
<area shape="rect" title=" " alt="" coords="1221,225,1305,251"/>
<area shape="poly" title=" " alt="" coords="938,173,1208,223,1207,228,937,178"/>
<area shape="rect" title=" " alt="" coords="873,225,948,251"/>
<area shape="poly" title=" " alt="" coords="890,177,904,212,899,214,885,179"/>
<area shape="rect" title=" " alt="" coords="973,225,1043,251"/>
<area shape="poly" title=" " alt="" coords="904,175,977,216,974,221,901,180"/>
<area shape="rect" href="MQTTMailer_8hpp_source.html" title=" " alt="" coords="1068,225,1196,251"/>
<area shape="poly" title=" " alt="" coords="923,175,1079,219,1078,224,922,180"/>
<area shape="rect" title=" " alt="" coords="764,299,884,324"/>
<area shape="poly" title=" " alt="" coords="1083,253,887,298,886,293,1082,248"/>
<area shape="rect" title=" " alt="" coords="908,299,1052,324"/>
<area shape="poly" title=" " alt="" coords="1109,253,1018,295,1016,290,1106,248"/>
<area shape="rect" title=" " alt="" coords="1077,299,1187,324"/>
<area shape="poly" title=" " alt="" coords="1135,251,1135,285,1129,285,1129,251"/>
<area shape="rect" title=" " alt="" coords="1211,299,1322,324"/>
<area shape="poly" title=" " alt="" coords="1155,248,1234,290,1231,294,1152,253"/>
<area shape="rect" title=" " alt="" coords="1346,299,1489,324"/>
<area shape="poly" title=" " alt="" coords="1178,248,1359,293,1357,298,1177,253"/>
<area shape="poly" title=" " alt="" coords="962,178,688,226,687,220,961,173"/>
<area shape="poly" title=" " alt="" coords="982,180,841,224,840,219,980,175"/>
<area shape="poly" title=" " alt="" coords="1057,175,1211,219,1209,224,1056,180"/>
<area shape="poly" title=" " alt="" coords="1002,180,941,220,938,215,999,175"/>
<area shape="poly" title=" " alt="" coords="1018,178,1014,212,1009,211,1013,177"/>
<area shape="poly" title=" " alt="" coords="1037,175,1103,216,1100,220,1034,180"/>
<area shape="poly" title=" " alt="" coords="1231,104,1259,211,1254,213,1226,105"/>
<area shape="poly" title=" " alt="" coords="1243,102,1299,142,1296,146,1240,106"/>
<area shape="poly" title=" " alt="" coords="617,106,563,146,560,141,614,102"/>
<area shape="rect" href="pHSensor_8hpp.html" title="Implements an interface for converting a voltage (analog reading) into a pH value according to the co..." alt="" coords="591,152,702,177"/>
<area shape="poly" title=" " alt="" coords="636,104,644,138,639,139,631,105"/>
<area shape="poly" title=" " alt="" coords="782,106,686,149,684,144,780,102"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8hpp__dep__incl.png" border="0" usemap="#ainclude_2scheduler_8hppdep" alt=""/></div>
<map name="ainclude_2scheduler_8hppdep" id="ainclude_2scheduler_8hppdep">
<area shape="rect" title="Utilities for scheduling tasks and saving persistent data." alt="" coords="67,5,229,31"/>
<area shape="rect" href="setup__util_8hpp.html" title="Utilities to facilitate setup of devices and interfaces." alt="" coords="5,79,171,104"/>
<area shape="poly" title=" " alt="" coords="131,43,100,80,96,77,127,40"/>
<area shape="rect" href="src_2main_8cpp.html" title="Initializes device and calls routines." alt="" coords="95,152,201,177"/>
<area shape="poly" title=" " alt="" coords="167,41,185,78,186,99,180,120,160,153,156,150,175,118,181,99,180,79,163,43"/>
<area shape="poly" title=" " alt="" coords="109,113,140,150,136,154,105,116"/>
</map>
</div>
</div>
<p><a href="scheduler_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplanner.html">planner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure for task scheduling stored in NVS.  <a href="structplanner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa2c353c6e3271404cdf45ce4601951c7" id="r_aa2c353c6e3271404cdf45ce4601951c7"><td class="memItemLeft" align="right" valign="top"><a id="aa2c353c6e3271404cdf45ce4601951c7" name="aa2c353c6e3271404cdf45ce4601951c7"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>init_nvs</b> ()</td></tr>
<tr class="memdesc:aa2c353c6e3271404cdf45ce4601951c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open NVS, check if it is initialized with data, if not, initialize it. <br /></td></tr>
<tr class="separator:aa2c353c6e3271404cdf45ce4601951c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde0b5aea233a35b69ff211f55208c6b" id="r_acde0b5aea233a35b69ff211f55208c6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#acde0b5aea233a35b69ff211f55208c6b">task_is_scheduled</a> (<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a> <a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">reset_count</a>)</td></tr>
<tr class="memdesc:acde0b5aea233a35b69ff211f55208c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a task will run this time, NVS must be initialized first!  <br /></td></tr>
<tr class="separator:acde0b5aea233a35b69ff211f55208c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce5745ffb225d3a8167ba1970e3b777" id="r_a2ce5745ffb225d3a8167ba1970e3b777"><td class="memItemLeft" align="right" valign="top"><a id="a2ce5745ffb225d3a8167ba1970e3b777" name="a2ce5745ffb225d3a8167ba1970e3b777"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ReadHT</b> ()</td></tr>
<tr class="memdesc:a2ce5745ffb225d3a8167ba1970e3b777"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads temperature and humidity sensors via BLE and then sends complete data to the database. <br /></td></tr>
<tr class="separator:a2ce5745ffb225d3a8167ba1970e3b777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b4c9f02d24e6345a8244b129cb4bce" id="r_ae6b4c9f02d24e6345a8244b129cb4bce"><td class="memItemLeft" align="right" valign="top"><a id="ae6b4c9f02d24e6345a8244b129cb4bce" name="ae6b4c9f02d24e6345a8244b129cb4bce"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ReadWired</b> ()</td></tr>
<tr class="memdesc:ae6b4c9f02d24e6345a8244b129cb4bce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all wired sensors attached to the aggregator. <br /></td></tr>
<tr class="separator:ae6b4c9f02d24e6345a8244b129cb4bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2137cbb31cc2a84abc73c9420ea062f1" id="r_a2137cbb31cc2a84abc73c9420ea062f1"><td class="memItemLeft" align="right" valign="top"><a id="a2137cbb31cc2a84abc73c9420ea062f1" name="a2137cbb31cc2a84abc73c9420ea062f1"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>OTAUpdate</b> ()</td></tr>
<tr class="memdesc:a2137cbb31cc2a84abc73c9420ea062f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks and updates from new code published at HTTPS address. <br /></td></tr>
<tr class="separator:a2137cbb31cc2a84abc73c9420ea062f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463da0b6a8745959b8d837ae6ee2c6f5" id="r_a463da0b6a8745959b8d837ae6ee2c6f5"><td class="memItemLeft" align="right" valign="top"><a id="a463da0b6a8745959b8d837ae6ee2c6f5" name="a463da0b6a8745959b8d837ae6ee2c6f5"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>PatWDT</b> ()</td></tr>
<tr class="memdesc:a463da0b6a8745959b8d837ae6ee2c6f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pat the watchdog by raising watchdog done pin high, and then setting it low. <br /></td></tr>
<tr class="separator:a463da0b6a8745959b8d837ae6ee2c6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6136b721c9ebd2c70157f07e7061f96" id="r_af6136b721c9ebd2c70157f07e7061f96"><td class="memItemLeft" align="right" valign="top"><a id="af6136b721c9ebd2c70157f07e7061f96" name="af6136b721c9ebd2c70157f07e7061f96"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>SendTLM</b> ()</td></tr>
<tr class="memdesc:af6136b721c9ebd2c70157f07e7061f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a telemetry message to the MQTT broker. <br /></td></tr>
<tr class="separator:af6136b721c9ebd2c70157f07e7061f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40655c198dfde88ff025be197f8bc0ea" id="r_a40655c198dfde88ff025be197f8bc0ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#a40655c198dfde88ff025be197f8bc0ea">Scheduler</a> (<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a> <a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">reset_count</a>)</td></tr>
<tr class="memdesc:a40655c198dfde88ff025be197f8bc0ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a state transition based on the number of reset counts.  <br /></td></tr>
<tr class="separator:a40655c198dfde88ff025be197f8bc0ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44cadcb682d8c434f4c30a70cd62aa9" id="r_af44cadcb682d8c434f4c30a70cd62aa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#af44cadcb682d8c434f4c30a70cd62aa9">SchedulerClearAll</a> (<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a> <a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">reset_count</a>)</td></tr>
<tr class="memdesc:af44cadcb682d8c434f4c30a70cd62aa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all tasks so that none are scheduled to run.  <br /></td></tr>
<tr class="separator:af44cadcb682d8c434f4c30a70cd62aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac334200b5e3db6f6228d37cec3b03538" id="r_ac334200b5e3db6f6228d37cec3b03538"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#ac334200b5e3db6f6228d37cec3b03538">maxlipo_attached</a></td></tr>
<tr class="memdesc:ac334200b5e3db6f6228d37cec3b03538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuel Gauge successfully initialized?  <br /></td></tr>
<tr class="separator:ac334200b5e3db6f6228d37cec3b03538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106fc9194d62779ffe942b866046530d" id="r_a106fc9194d62779ffe942b866046530d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Adafruit_MAX17048</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#a106fc9194d62779ffe942b866046530d">maxlipo</a></td></tr>
<tr class="memdesc:a106fc9194d62779ffe942b866046530d"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAX17048 battery Fuel Gauge.  <br /></td></tr>
<tr class="separator:a106fc9194d62779ffe942b866046530d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ac31de71c2bf701a13e5f233fc6d8" id="r_a951ac31de71c2bf701a13e5f233fc6d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAdafruit__ADS1115.html">Adafruit_ADS1115</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#a951ac31de71c2bf701a13e5f233fc6d8">ads</a></td></tr>
<tr class="memdesc:a951ac31de71c2bf701a13e5f233fc6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analog to digital converter object (I2C)  <br /></td></tr>
<tr class="separator:a951ac31de71c2bf701a13e5f233fc6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df27a00b191de3537c3b53adcecf1e8" id="r_a2df27a00b191de3537c3b53adcecf1e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8hpp.html#a2df27a00b191de3537c3b53adcecf1e8">reset_count</a> = -1</td></tr>
<tr class="memdesc:a2df27a00b191de3537c3b53adcecf1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of resets retrieved for NVS  <br /></td></tr>
<tr class="separator:a2df27a00b191de3537c3b53adcecf1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a163e9b74768b4433d5bd250afd860" id="r_a80a163e9b74768b4433d5bd250afd860"><td class="memItemLeft" align="right" valign="top"><a id="a80a163e9b74768b4433d5bd250afd860" name="a80a163e9b74768b4433d5bd250afd860"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">struct</a> <a class="el" href="structplanner.html">planner</a>&#160;</td><td class="memItemRight" valign="bottom"><b>planner</b></td></tr>
<tr class="separator:a80a163e9b74768b4433d5bd250afd860"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utilities for scheduling tasks and saving persistent data. </p>
<p>Defines the mechanism for implementing task scheduling for sensors, OTA updates, etc. Timing is measured in "ticks". One tick is approximately 64 seconds or the time that the watchdog timer waits before reseting the device and waking it from hibernation. Ticks are tracked between power cycles using the non-volatile storage (NVS) system.</p>
<dl class="section author"><dt>Author</dt><dd>Garrett Wells </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a40655c198dfde88ff025be197f8bc0ea" name="a40655c198dfde88ff025be197f8bc0ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40655c198dfde88ff025be197f8bc0ea">&#9670;&#160;</a></span>Scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a> Scheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a>&#160;</td>
          <td class="paramname"><em>reset_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a state transition based on the number of reset counts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reset_count</td><td>The number of resets that have been performed in this epoch </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af44cadcb682d8c434f4c30a70cd62aa9" name="af44cadcb682d8c434f4c30a70cd62aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af44cadcb682d8c434f4c30a70cd62aa9">&#9670;&#160;</a></span>SchedulerClearAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a> SchedulerClearAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a>&#160;</td>
          <td class="paramname"><em>reset_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all tasks so that none are scheduled to run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reset_count</td><td>The number of reset counts to have elapsed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acde0b5aea233a35b69ff211f55208c6b" name="acde0b5aea233a35b69ff211f55208c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde0b5aea233a35b69ff211f55208c6b">&#9670;&#160;</a></span>task_is_scheduled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a> task_is_scheduled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">int</a>&#160;</td>
          <td class="paramname"><em>reset_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a task will run this time, NVS must be initialized first! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reset_count</td><td>The number of resets recorded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if a task is scheduled to run this reboot cycle, <code>false</code> otherwise </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a951ac31de71c2bf701a13e5f233fc6d8" name="a951ac31de71c2bf701a13e5f233fc6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ac31de71c2bf701a13e5f233fc6d8">&#9670;&#160;</a></span>ads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAdafruit__ADS1115.html">Adafruit_ADS1115</a> ads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analog to digital converter object (I2C) </p>
<p>Interface for the analog to digital converter. <br  />
 </p>

</div>
</div>
<a id="a106fc9194d62779ffe942b866046530d" name="a106fc9194d62779ffe942b866046530d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106fc9194d62779ffe942b866046530d">&#9670;&#160;</a></span>maxlipo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Adafruit_MAX17048</a> maxlipo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MAX17048 battery Fuel Gauge. </p>
<p>Interface for the battery fuel gauge. </p>

</div>
</div>
<a id="ac334200b5e3db6f6228d37cec3b03538" name="ac334200b5e3db6f6228d37cec3b03538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac334200b5e3db6f6228d37cec3b03538">&#9670;&#160;</a></span>maxlipo_attached</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a> maxlipo_attached</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fuel Gauge successfully initialized? </p>
<p>External flag indicating whether maxlipo was initialized successfully. </p>

</div>
</div>
<a id="a2df27a00b191de3537c3b53adcecf1e8" name="a2df27a00b191de3537c3b53adcecf1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df27a00b191de3537c3b53adcecf1e8">&#9670;&#160;</a></span>reset_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reset_count = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of resets retrieved for NVS </p>
<p>External variable holding the number of resets recorded by the system. Stored and loaded from non-volatile storage. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="scheduler_8hpp.html">scheduler.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
