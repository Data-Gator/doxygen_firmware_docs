<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Gator: Data Gator Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="alligator_icon_256.png"/></td>
  <td id="projectalign">
   <div id="projectname">Data Gator
   </div>
   <div id="projectbrief">Hardware and software documentation for the Data Gator project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_documentation_2README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Data Gator Documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md55"></a>This directory contains reference documentation for the aggregator hardware and firmware solutions. See the sections below for a quick overview of configuration options and description of how to find the information you are looking for.</p>
<h4><a class="anchor" id="autotoc_md56"></a>
Table of Contents</h4>
<ul>
<li><a class="el" href="md_documentation_2Configuration__Files__and__Creating__Profiles.html">Configuration Files and Profiles</a></li>
<li><a class="el" href="md_documentation_2Espressif__Flash__Download__Tool.html">Espressif Flash Tool</a></li>
<li><a class="el" href="md_documentation_2How__to__Flash__Firmware.html">Building and Flashing Firmware</a></li>
<li><a class="el" href="md_documentation_2How__To__Access__Logged__Data.html">How to Access Logged Data</a></li>
<li><a class="el" href="md_documentation_2MQTT__Topics.html">MQTT Topics</a></li>
<li><a class="el" href="md_documentation_2sensors__and__wiring_2README.html">Sensor Guides</a></li>
<li><a class="el" href="md_documentation_2how__to__make__releases.html">How to Make Releases</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md57"></a>
High-Level Hardware Description</h2>
<p>The hardware solution can be broken into several discrete components:</p>
<ol type="1">
<li>The Micro-Controller(MCU)<ul>
<li>currently an ESP32 based MCU with WiFi, BLE, and GPIO for interfacing with sensors</li>
<li>soldered to a carrier board which provides expanded functionality and better connection options</li>
</ul>
</li>
<li>The Carrier Board(Data Gator)<ul>
<li>soldered to the MCU, it provides an improved Analog-to-Digital-Converter(ADC), Multiplexer(MUX), power management chips, and Watch-Dog Timer(WDT)</li>
<li>the carrier board also provides screw-terminal interfaces for robust and re-usable connection to wired sensors</li>
</ul>
</li>
<li>The Solar System<ul>
<li>intended to be used with a battery, solar power manager, and solar panel to provide year-round sustainable operation</li>
<li>also includes a fuel gauge solution(MAX17048) to monitor battery charge level</li>
<li>requires a 1-2 Watt solar panel</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md58"></a>
Firmware Configuration and Usage</h2>
<p>The firmware is based around a modular architecture which is divided into several main parts:</p>
<ol type="1">
<li>Sensor Interfaces<ul>
<li>sensor interfaces are defined for Bluetooth Low Energy temperature and humidity sensors, Volumetric Water Content(VWC) sensors, and pH sensors</li>
<li>sensor interfaces are based around the protocol/connection type that they use(I<sup>2</sup>C, BLE, analog, etc)</li>
<li>sensor interfaces can be easily modified to add support for new sensor hardware without substantial changes to other firmware code - just make sure the MQTT subscriber picks up the new topics!</li>
</ul>
</li>
<li>Task Scheduling<ul>
<li>one task is defined for each sensor that the aggregator is connected to</li>
<li><code><a class="el" href="config_8hpp.html" title="Defines configuration options for network, sensor readings, etc.">config.hpp</a></code> defines the polling frequency for the tasks in minutes, but should not be edited directly if possible. It is better to follow the instructions from the guide in the table of contents above titled "Configuration Files and Profiles"</li>
<li>the MCU is woken from deep sleep by the WDT to check the scheduling table and execute scheduled tasks</li>
</ul>
</li>
<li>Data Logging<ul>
<li>the logging module supports automatic logging to any of the specified interfaces such as Serial connection, MQTT(WiFi), SD card, and potentially LoRa</li>
<li>logging destination is automatically chosen by the module based on what interfaces are available</li>
</ul>
</li>
</ol>
<p>Further documentation and usage information will be defined in <a class="el" href="md_documentation_2firmware__documentation.html">firmware_documentation.md</a>. A flowchart of the modules can be seen below.</p>
<p><img src="images/firmware_chart.png" alt="png" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md59"></a>
Hardware Debugging and Documentation</h2>
<p>Hardware characteristics of the system will be documented in <a href="MQTT_Hardware_Documentation.xlsx">MQTT_Hardware_Documentation.xlsx</a>, especially during development as new features are being added.</p>
<p>Stable feature documentation will later be accessible through <a class="el" href="md_documentation_2hardware__documentation.html">hardware_documentation.md</a>.</p>
<p><img src="images/hardware_flow_chart.png" alt="png" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
