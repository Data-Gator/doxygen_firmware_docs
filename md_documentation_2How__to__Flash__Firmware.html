<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Gator: How to Flash Firmware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="alligator_icon_256.png"/></td>
  <td id="projectalign">
   <div id="projectname">Data Gator
   </div>
   <div id="projectbrief">Hardware and software documentation for the Data Gator project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_documentation_2How__to__Flash__Firmware.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">How to Flash Firmware</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md40"></a>This is a guide for how to flash firmware images onto ESP32 mounted on the Datagator board. It contains all information from guidelines released with each firmware release as well as additional commands and techniques for troubleshooting.</p>
<p>In this guide, flashing refers to uploading an executable(binary) file to the ESP32 micro-controller. It is possible to do this with two different tools:</p>
<ol type="1">
<li>[PlatformIO] This method is most tightly integrated with the firmware development environment used by the developers and is easiest when it is necessary to build from source and then upload. It can be used through both command line and visual studio.</li>
<li>[Espressif Flash Tool(Windows)] Using the espressif flash tool is the best and only method for flashing pre-compiled executable files included with releases. Unfortunately this is only available for Windows.</li>
</ol>
<h2><a class="anchor" id="autotoc_md41"></a>
Deployment</h2>
<h4><a class="anchor" id="autotoc_md42"></a>
PlatformIO Options</h4>
<p>With laptop connected to Data Gator, build and upload the source code with:</p>
<ol type="1">
<li>VSCode Plugin</li>
<li>OR <code>pio run -t upload</code> from the command line</li>
<li>OR Espressif Flash Tool</li>
</ol>
<h4><a class="anchor" id="autotoc_md43"></a>
Espressif Flash Download Tool</h4>
<p>To flash the linked firmware, use the Espressif Flash Download Tool(Windows) from <a href="https://www.espressif.com/en/support/download/other-tools">here</a>.</p>
<ol type="1">
<li>Download and open Flash Download Tool. Also download the binary file (<code>.bin</code>) linked below.</li>
<li>Select ESP32 as the chip. Leave all other options as default and click "Okay".</li>
<li>Open the binary file by clicking the three dots button next to the top entry. For each binary loaded, enter an offset (ex. <code>0x10000</code>) in the far right field on the same line. This sets the program to be written to the memory block.<ul>
<li><code>bootloader.bin</code> should be flashed with offset <code>0x1000</code></li>
<li><code>partitions.bin</code> should be flashed with offset <code>0x8000</code></li>
<li><code>firmware_v#.#.#.bin</code> should be flashed with offset <code>0x10000</code></li>
</ul>
</li>
<li>Click the check box next to the file selector field for each loaded binary to be flashed.</li>
<li>Next, connect the Data Gator board via USB to your laptop. Open device manager to see which COM port the USB device is connected to.</li>
<li>Select that COM port in the Flash Download Tool.</li>
<li>Click "Start". The tool should SYNC, then flash the firmware to the device. Do not disconnect until it is done. Once finished, use the PlatformIO serial monitor or other serial monitor to make sure the device is running the correct firmware. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
