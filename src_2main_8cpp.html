<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Gator: src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="alligator_icon_256.png"/></td>
  <td id="projectalign">
   <div id="projectname">Data Gator
   </div>
   <div id="projectbrief">Hardware and software documentation for the Data Gator project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('src_2main_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initializes device and calls routines.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &quot;<a class="el" href="SDReader_8hpp_source.html">SDReader.hpp</a>&quot;</code><br />
<code>#include &lt;version.hpp&gt;</code><br />
<code>#include &lt;<a class="el" href="pinout_8hpp_source.html">pinout.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="config_8hpp_source.html">config.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="firebeetle__sleep_8hpp_source.html">firebeetle_sleep.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="update_8cpp_source.html">update.cpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="logging__util_8cpp_source.html">logging_util.cpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mqtt__util_8hpp_source.html">mqtt_util.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="setup__util_8hpp_source.html">setup_util.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="scheduler_8hpp_source.html">scheduler.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="logger_8hpp_source.html">logger.hpp</a>&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;HttpsOTAUpdate.h&gt;</code><br />
<code>#include &lt;Preferences.h&gt;</code><br />
<code>#include &lt;NTPClient.h&gt;</code><br />
<code>#include &lt;WiFiUdp.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="src_2main_8cpp__incl.png" border="0" usemap="#asrc_2main_8cpp" alt=""/></div>
<map name="asrc_2main_8cpp" id="asrc_2main_8cpp">
<area shape="rect" title="Initializes device and calls routines." alt="" coords="1225,5,1330,31"/>
<area shape="rect" title=" " alt="" coords="90,299,174,324"/>
<area shape="poly" title=" " alt="" coords="1224,23,1114,28,965,38,795,55,623,81,494,108,440,125,372,154,309,188,249,225,158,292,155,288,246,221,306,183,370,150,438,120,493,102,622,76,794,50,964,33,1114,23,1224,18"/>
<area shape="rect" title=" " alt="" coords="44,79,111,104"/>
<area shape="poly" title=" " alt="" coords="1225,23,693,42,371,59,233,70,124,82,124,76,232,64,370,54,692,37,1225,18"/>
<area shape="rect" href="SDReader_8hpp.html" title="Defines the utility class SDReader which is used to read from SD card files." alt="" coords="1146,152,1259,177"/>
<area shape="poly" title=" " alt="" coords="1225,23,1145,27,1054,36,973,53,943,66,924,80,919,91,924,102,936,113,956,123,1009,138,1072,149,1132,156,1132,161,1071,154,1008,143,954,128,933,118,919,106,913,91,919,77,940,61,972,48,1053,31,1145,21,1224,17"/>
<area shape="rect" title=" " alt="" coords="494,372,549,397"/>
<area shape="poly" title=" " alt="" coords="1225,23,947,28,560,40,206,57,88,68,51,74,34,81,17,98,10,116,9,163,9,239,14,269,28,289,50,305,79,322,111,335,156,346,268,363,386,373,480,379,480,384,386,379,268,368,155,351,110,340,76,326,47,310,24,293,9,271,4,240,4,163,5,115,13,95,31,76,50,69,87,63,206,52,559,34,947,23,1225,17"/>
<area shape="rect" title=" " alt="" coords="1612,299,1711,324"/>
<area shape="poly" title=" " alt="" coords="1331,21,1495,41,1577,57,1635,76,1659,91,1676,106,1689,125,1700,151,1706,188,1701,226,1690,260,1677,288,1672,286,1685,258,1696,224,1701,188,1695,153,1684,128,1672,110,1656,95,1632,81,1576,62,1495,46,1330,26"/>
<area shape="rect" title=" " alt="" coords="1417,299,1505,324"/>
<area shape="poly" title=" " alt="" coords="1329,28,1371,47,1391,60,1409,77,1427,116,1442,173,1461,285,1456,285,1437,174,1422,118,1405,80,1388,64,1369,51,1327,33"/>
<area shape="rect" href="version_8hpp_source.html" title=" " alt="" coords="933,79,1032,104"/>
<area shape="poly" title=" " alt="" coords="1231,33,1044,78,1043,73,1229,28"/>
<area shape="rect" href="pinout_8hpp.html" title="Maps pin numbers to defined variables." alt="" coords="1056,79,1147,104"/>
<area shape="poly" title=" " alt="" coords="1250,33,1144,76,1142,71,1248,28"/>
<area shape="rect" href="config_8hpp.html" title="Defines configuration options for network, sensor readings, etc." alt="" coords="1171,79,1261,104"/>
<area shape="poly" title=" " alt="" coords="1269,33,1237,70,1233,66,1265,29"/>
<area shape="rect" href="firebeetle__sleep_8hpp.html" title="This file implements firebeetle sleep (ESP32)" alt="" coords="135,79,289,104"/>
<area shape="poly" title=" " alt="" coords="1224,24,842,43,578,60,308,81,303,82,303,76,308,76,578,55,842,38,1224,19"/>
<area shape="rect" href="update_8cpp.html" title="Defines utilities for managing firmware updates, using Over&#45;The&#45;Air updates." alt="" coords="635,79,730,104"/>
<area shape="poly" title=" " alt="" coords="1225,28,744,85,744,80,1224,23"/>
<area shape="rect" href="logging__util_8cpp.html" title="Utilities for logging data." alt="" coords="1469,79,1595,104"/>
<area shape="poly" title=" " alt="" coords="1319,28,1479,72,1477,78,1318,33"/>
<area shape="rect" title=" " alt="" coords="1574,152,1685,177"/>
<area shape="poly" title=" " alt="" coords="1330,19,1403,25,1485,36,1559,53,1588,64,1609,77,1619,90,1626,106,1632,137,1627,138,1621,108,1615,93,1605,81,1586,68,1558,58,1484,41,1402,31,1330,25"/>
<area shape="rect" href="mqtt__util_8hpp.html" title="Utilities for receiving and sending MQTT commands." alt="" coords="1285,79,1395,104"/>
<area shape="poly" title=" " alt="" coords="1290,29,1323,66,1319,70,1286,33"/>
<area shape="rect" href="setup__util_8hpp.html" title="Utilities to facilitate setup of devices and interfaces." alt="" coords="1847,79,1961,104"/>
<area shape="poly" title=" " alt="" coords="1331,23,1834,79,1833,85,1330,28"/>
<area shape="rect" href="scheduler_8hpp.html" title="Utilities for scheduling tasks and saving persistent data." alt="" coords="2232,152,2344,177"/>
<area shape="poly" title=" " alt="" coords="1330,18,1607,33,1789,50,1974,76,2121,110,2241,145,2240,150,2120,115,1973,81,1789,55,1606,38,1330,23"/>
<area shape="rect" href="logger_8hpp.html" title="Logging Utilities for detecting and selecting logging interfaces." alt="" coords="2941,299,3032,324"/>
<area shape="poly" title=" " alt="" coords="1330,20,1635,40,2048,76,2320,107,2590,149,2648,156,2701,156,2792,153,2834,156,2876,167,2919,188,2965,223,2975,237,2983,253,2989,284,2984,285,2977,254,2971,240,2961,227,2916,193,2874,172,2834,162,2792,159,2701,162,2648,161,2589,155,2319,113,2048,81,1635,45,1330,25"/>
<area shape="rect" title=" " alt="" coords="3026,79,3169,104"/>
<area shape="poly" title=" " alt="" coords="1330,17,1589,19,2000,27,2496,45,2754,58,3007,76,3012,76,3012,82,3007,81,2754,64,2496,50,2000,32,1588,24,1330,22"/>
<area shape="rect" title=" " alt="" coords="1133,372,1185,397"/>
<area shape="poly" title=" " alt="" coords="1194,179,1177,200,1164,226,1156,261,1154,297,1157,358,1152,359,1148,297,1151,260,1159,224,1173,197,1189,176"/>
<area shape="rect" title=" " alt="" coords="1197,299,1259,324"/>
<area shape="poly" title=" " alt="" coords="1195,179,1174,212,1169,231,1172,250,1185,271,1202,288,1199,292,1181,274,1167,252,1164,230,1169,209,1190,176"/>
<area shape="rect" title=" " alt="" coords="1335,299,1393,324"/>
<area shape="poly" title=" " alt="" coords="1230,175,1268,195,1306,223,1333,254,1353,285,1349,288,1329,257,1302,227,1265,200,1228,180"/>
<area shape="rect" href="SDCard_8hpp.html" title="SDCard Interface Utilities." alt="" coords="948,299,1121,324"/>
<area shape="poly" title=" " alt="" coords="1161,180,1117,198,1096,211,1077,227,1057,256,1044,286,1039,284,1052,253,1073,224,1093,207,1115,194,1159,175"/>
<area shape="rect" href="SDLogger_8hpp.html" title="Implements an interface for using SPI, SDLogger, for reading and writing to files on an SD card." alt="" coords="1182,225,1293,251"/>
<area shape="poly" title=" " alt="" coords="1211,176,1228,212,1223,214,1206,179"/>
<area shape="rect" href="TimeStamp_8hpp_source.html" title=" " alt="" coords="1469,225,1595,251"/>
<area shape="poly" title=" " alt="" coords="1256,175,1466,220,1465,225,1255,180"/>
<area shape="rect" href="MQTTMailer_8hpp_source.html" title=" " alt="" coords="496,225,624,251"/>
<area shape="poly" title=" " alt="" coords="1146,175,638,231,638,225,1145,170"/>
<area shape="poly" title=" " alt="" coords="1056,322,1128,363,1125,367,1053,326"/>
<area shape="poly" title=" " alt="" coords="953,327,563,380,562,375,952,321"/>
<area shape="poly" title=" " alt="" coords="1251,249,1273,284,1278,305,1273,325,1258,343,1240,358,1199,376,1197,371,1237,353,1255,340,1268,323,1273,305,1268,286,1246,252"/>
<area shape="poly" title=" " alt="" coords="1239,251,1234,286,1229,285,1233,251"/>
<area shape="poly" title=" " alt="" coords="1206,253,1081,297,1079,292,1204,248"/>
<area shape="poly" title=" " alt="" coords="1506,253,1405,296,1403,291,1504,248"/>
<area shape="poly" title=" " alt="" coords="1554,248,1629,289,1627,294,1552,253"/>
<area shape="poly" title=" " alt="" coords="1522,253,1484,291,1481,287,1519,249"/>
<area shape="rect" title=" " alt="" coords="1529,299,1588,324"/>
<area shape="poly" title=" " alt="" coords="1539,250,1552,285,1547,287,1534,252"/>
<area shape="rect" title=" " alt="" coords="500,299,620,324"/>
<area shape="poly" title=" " alt="" coords="563,251,563,285,557,285,557,251"/>
<area shape="rect" title=" " alt="" coords="780,299,924,324"/>
<area shape="poly" title=" " alt="" coords="608,248,792,293,791,298,606,253"/>
<area shape="rect" title=" " alt="" coords="645,299,755,324"/>
<area shape="poly" title=" " alt="" coords="584,248,666,290,664,295,581,253"/>
<area shape="rect" title=" " alt="" coords="198,299,309,324"/>
<area shape="poly" title=" " alt="" coords="511,253,317,298,316,293,510,248"/>
<area shape="rect" title=" " alt="" coords="333,299,475,324"/>
<area shape="poly" title=" " alt="" coords="536,253,443,295,441,290,534,248"/>
<area shape="poly" title=" " alt="" coords="199,106,178,127,160,153,147,187,139,223,134,285,129,285,134,222,142,186,155,151,174,123,196,102"/>
<area shape="rect" title=" " alt="" coords="169,152,255,177"/>
<area shape="poly" title=" " alt="" coords="215,104,215,138,209,138,209,104"/>
<area shape="poly" title=" " alt="" coords="635,97,586,102,527,112,466,129,408,154,378,177,360,202,342,228,312,253,259,275,188,297,186,292,257,270,309,248,338,224,356,199,375,173,405,150,464,124,526,107,585,97,635,92"/>
<area shape="poly" title=" " alt="" coords="635,99,576,106,512,117,455,133,434,143,421,154,415,165,415,174,420,183,429,192,457,207,492,219,490,224,455,212,426,196,415,187,410,176,410,163,417,150,431,138,453,128,510,112,576,101,635,94"/>
<area shape="rect" title=" " alt="" coords="987,152,1050,177"/>
<area shape="poly" title=" " alt="" coords="731,100,975,151,974,157,730,105"/>
<area shape="rect" title=" " alt="" coords="817,152,911,177"/>
<area shape="poly" title=" " alt="" coords="713,102,823,144,821,149,711,107"/>
<area shape="rect" title=" " alt="" coords="431,152,537,177"/>
<area shape="poly" title=" " alt="" coords="652,107,530,150,529,145,650,102"/>
<area shape="rect" title=" " alt="" coords="561,152,676,177"/>
<area shape="poly" title=" " alt="" coords="674,106,640,144,636,140,670,103"/>
<area shape="rect" title=" " alt="" coords="701,152,793,177"/>
<area shape="poly" title=" " alt="" coords="695,103,729,140,725,144,691,106"/>
<area shape="poly" title=" " alt="" coords="1480,107,1270,152,1269,146,1479,101"/>
<area shape="poly" title=" " alt="" coords="1510,107,1274,222,1272,217,1507,102"/>
<area shape="poly" title=" " alt="" coords="1531,105,1520,152,1521,183,1527,212,1521,213,1515,184,1515,152,1526,104"/>
<area shape="poly" title=" " alt="" coords="1537,104,1546,137,1564,176,1585,200,1609,224,1650,285,1646,288,1605,227,1581,204,1559,179,1541,139,1532,105"/>
<area shape="poly" title=" " alt="" coords="1549,102,1604,141,1601,146,1546,106"/>
<area shape="poly" title=" " alt="" coords="1319,106,1238,148,1236,143,1317,102"/>
<area shape="poly" title=" " alt="" coords="1344,104,1364,284,1359,285,1339,105"/>
<area shape="poly" title=" " alt="" coords="1286,104,1272,107,1188,117,1121,122,1056,131,976,154,869,213,732,294,729,289,867,208,974,150,1055,126,1121,117,1187,112,1272,101,1285,99"/>
<area shape="poly" title=" " alt="" coords="1847,98,1453,122,1250,138,1177,147,1134,155,1058,184,986,222,925,261,879,293,876,288,922,256,984,217,1056,179,1133,149,1176,141,1250,133,1453,117,1847,93"/>
<area shape="poly" title=" " alt="" coords="1847,98,1453,121,1232,138,1070,155,1064,156,1063,150,1069,149,1231,132,1453,116,1846,93"/>
<area shape="poly" title=" " alt="" coords="1962,101,2219,148,2218,153,1961,106"/>
<area shape="rect" title=" " alt="" coords="1720,225,1851,251"/>
<area shape="poly" title=" " alt="" coords="1896,106,1806,216,1802,213,1892,103"/>
<area shape="rect" title=" " alt="" coords="1875,225,2039,251"/>
<area shape="poly" title=" " alt="" coords="1910,104,1933,176,1948,212,1943,214,1928,178,1905,105"/>
<area shape="rect" href="OWMAdafruit__ADS1015_8h_source.html" title=" " alt="" coords="2064,225,2251,251"/>
<area shape="poly" title=" " alt="" coords="1962,99,2028,117,2062,131,2094,150,2125,180,2147,212,2143,215,2121,183,2090,154,2060,136,2026,122,1961,104"/>
<area shape="rect" title=" " alt="" coords="2716,299,2916,324"/>
<area shape="poly" title=" " alt="" coords="1962,93,2140,105,2375,128,2495,146,2604,167,2696,193,2732,207,2762,223,2777,236,2790,252,2809,285,2804,287,2786,255,2773,240,2759,228,2730,212,2694,198,2603,172,2494,151,2375,134,2139,110,1962,98"/>
<area shape="rect" title=" " alt="" coords="1942,152,2079,177"/>
<area shape="poly" title=" " alt="" coords="1923,102,1984,142,1981,147,1920,106"/>
<area shape="poly" title=" " alt="" coords="2232,176,1865,228,1864,223,2231,171"/>
<area shape="poly" title=" " alt="" coords="2235,180,2025,225,2024,220,2234,175"/>
<area shape="poly" title=" " alt="" coords="2268,180,2192,221,2189,216,2266,175"/>
<area shape="rect" href="ble__util_8hpp.html" title="Utilities such as callbacks for parsing bluetooth packets." alt="" coords="2852,225,2951,251"/>
<area shape="poly" title=" " alt="" coords="2344,170,2838,227,2838,232,2344,175"/>
<area shape="rect" href="VWCSensor_8hpp.html" title="Interface for VWC sensors." alt="" coords="2547,299,2671,324"/>
<area shape="poly" title=" " alt="" coords="2345,167,2575,186,2683,203,2720,212,2741,223,2748,236,2748,248,2743,258,2733,268,2704,284,2670,297,2668,292,2702,280,2730,264,2738,255,2743,246,2743,237,2737,227,2718,217,2682,208,2575,192,2344,172"/>
<area shape="rect" href="Teros10_8hpp_source.html" title=" " alt="" coords="2275,225,2375,251"/>
<area shape="poly" title=" " alt="" coords="2297,176,2315,212,2311,215,2292,179"/>
<area shape="rect" href="Atlas__EZO-pH_8hpp.html" title="Implements I2C pH sensor which inherits from pHSensor.hpp." alt="" coords="2399,225,2540,251"/>
<area shape="poly" title=" " alt="" coords="2318,175,2428,218,2426,223,2316,180"/>
<area shape="rect" href="Atlas__Gravity__pH_8hpp.html" title="This file implements an analog pH sensor which inherits from pHSensor.hpp." alt="" coords="2564,225,2727,251"/>
<area shape="poly" title=" " alt="" coords="2345,175,2575,220,2574,225,2344,180"/>
<area shape="rect" title=" " alt="" coords="2106,299,2209,324"/>
<area shape="poly" title=" " alt="" coords="2160,251,2160,285,2155,285,2155,251"/>
<area shape="rect" title=" " alt="" coords="2336,299,2400,324"/>
<area shape="poly" title=" " alt="" coords="2192,248,2324,292,2323,298,2190,253"/>
<area shape="poly" title=" " alt="" coords="2889,253,2842,292,2839,288,2886,249"/>
<area shape="poly" title=" " alt="" coords="2917,249,2964,288,2961,292,2913,253"/>
<area shape="poly" title=" " alt="" coords="2276,252,2263,253,2099,268,1949,278,1682,285,1446,281,1226,272,1006,264,771,262,503,273,353,284,188,301,188,296,352,279,503,267,770,257,1006,259,1226,267,1446,276,1682,280,1949,272,2099,263,2262,248,2275,246"/>
<area shape="poly" title=" " alt="" coords="2372,248,2551,293,2550,298,2370,253"/>
<area shape="poly" title=" " alt="" coords="2455,253,2397,293,2394,288,2452,248"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a46279717733648d2fdc69dfa33af50" id="r_a4a46279717733648d2fdc69dfa33af50"><td class="memItemLeft" align="right" valign="top"><a id="a4a46279717733648d2fdc69dfa33af50" name="a4a46279717733648d2fdc69dfa33af50"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">PubSubClient</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mqtt_client</b> (<a class="el" href="src_2main_8cpp.html#afafd0fc922c17c38235820189e1d9b3b">wifi_client</a>)</td></tr>
<tr class="memdesc:a4a46279717733648d2fdc69dfa33af50"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT client object. <br /></td></tr>
<tr class="separator:a4a46279717733648d2fdc69dfa33af50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup initializes sensor interfaces, NVS, wireless protocols, and logging options.  <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read sensors, log data, and hibernate.  <br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a951ac31de71c2bf701a13e5f233fc6d8" id="r_a951ac31de71c2bf701a13e5f233fc6d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAdafruit__ADS1115.html">Adafruit_ADS1115</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#a951ac31de71c2bf701a13e5f233fc6d8">ads</a></td></tr>
<tr class="memdesc:a951ac31de71c2bf701a13e5f233fc6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analog to digital converter object (I2C)  <br /></td></tr>
<tr class="separator:a951ac31de71c2bf701a13e5f233fc6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106fc9194d62779ffe942b866046530d" id="r_a106fc9194d62779ffe942b866046530d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Adafruit_MAX17048</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#a106fc9194d62779ffe942b866046530d">maxlipo</a></td></tr>
<tr class="memdesc:a106fc9194d62779ffe942b866046530d"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAX17048 battery Fuel Gauge.  <br /></td></tr>
<tr class="separator:a106fc9194d62779ffe942b866046530d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac334200b5e3db6f6228d37cec3b03538" id="r_ac334200b5e3db6f6228d37cec3b03538"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#ac334200b5e3db6f6228d37cec3b03538">maxlipo_attached</a></td></tr>
<tr class="memdesc:ac334200b5e3db6f6228d37cec3b03538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuel Gauge successfully initialized?  <br /></td></tr>
<tr class="separator:ac334200b5e3db6f6228d37cec3b03538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df27a00b191de3537c3b53adcecf1e8" id="r_a2df27a00b191de3537c3b53adcecf1e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">reset_count</a></td></tr>
<tr class="memdesc:a2df27a00b191de3537c3b53adcecf1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of resets retrieved for NVS  <br /></td></tr>
<tr class="separator:a2df27a00b191de3537c3b53adcecf1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a3fd1220b5c8c7557fb18db8c20e50" id="r_a45a3fd1220b5c8c7557fb18db8c20e50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">const</a> <a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#a45a3fd1220b5c8c7557fb18db8c20e50">USB_DEBUG</a> = <a class="el" href="config_8hpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></td></tr>
<tr class="memdesc:a45a3fd1220b5c8c7557fb18db8c20e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB serial debugging enabled.  <br /></td></tr>
<tr class="separator:a45a3fd1220b5c8c7557fb18db8c20e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afafd0fc922c17c38235820189e1d9b3b" id="r_afafd0fc922c17c38235820189e1d9b3b"><td class="memItemLeft" align="right" valign="top"><a id="afafd0fc922c17c38235820189e1d9b3b" name="afafd0fc922c17c38235820189e1d9b3b"></a>
<a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">WiFiClient</a>&#160;</td><td class="memItemRight" valign="bottom"><b>wifi_client</b></td></tr>
<tr class="memdesc:afafd0fc922c17c38235820189e1d9b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">WiFi stack object. <br /></td></tr>
<tr class="separator:afafd0fc922c17c38235820189e1d9b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9553c173198049d23f8a89fe11142c" id="r_add9553c173198049d23f8a89fe11142c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Preferences</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2main_8cpp.html#add9553c173198049d23f8a89fe11142c">gator_prefs</a></td></tr>
<tr class="memdesc:add9553c173198049d23f8a89fe11142c"><td class="mdescLeft">&#160;</td><td class="mdescRight">NVS memory object.  <br /></td></tr>
<tr class="separator:add9553c173198049d23f8a89fe11142c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initializes device and calls routines. </p>
<p>Uses the Arduino framework to initialize devices and call routines to collect data and manage power. This file is required for compilation in the Arduino framework. Furthermore it contains implementations of the Arduino required functions <code><a class="el" href="src_2main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Setup initializes sensor interfaces, NVS, wireless protocols, and logging options.">setup()</a></code> and <code><a class="el" href="src_2main_8cpp.html#afe461d27b9c48d5921c00d521181f12f" title="Read sensors, log data, and hibernate.">loop()</a></code>.</p>
<p>The Arduino model of execution has been adapted to fit a different executional model which prioritizes intermittent, low power data collection. Arduino defaults to running the code within loop an infinite number of times until the device is stopped or runs out of a resource such as power.</p>
<p>In many precision agriculture scenarios the rate of change of any monitored variable such as temperature likely needs to be polled no more than once a minute. Any more than this degree of resolution is probably a waste of energy. To accomodate this norm, the Data Gator (DG) firmware is configured to run the code in loop <em><b>once</b></em> and then shutdown (enter low power mode) to conserve battery life.</p>
<p>This file implements main.</p>
<dl class="section author"><dt>Author</dt><dd>Garrett Wells </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a> loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read sensors, log data, and hibernate. </p>
<p>Although specified to loop infinitely by the Arduino API, this function does the following in one iteration:</p>
<ol type="1">
<li>reads sensors,</li>
<li>logs data,</li>
<li>and finishes by putting the system into hibernation to conserve energy. </li>
</ol>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a> setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup initializes sensor interfaces, NVS, wireless protocols, and logging options. </p>
<p>This function initializes all global resources and bus based protocols. A list (non-exhaustive but pretty complete) can be found below:</p>
<ol type="1">
<li>initializes gpio pins,</li>
<li>initializes i2c sensors,</li>
<li>starts serial debug interface and waits 1 sec (defaults to 115200 baud),</li>
<li>initializes the non-volatile memory system (specific to ESP32, adapt for other uC),</li>
<li>initializes wireless connections,</li>
<li>initializes logging systems and configures flags based on what logging interfaces are available. </li>
</ol>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a951ac31de71c2bf701a13e5f233fc6d8" name="a951ac31de71c2bf701a13e5f233fc6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ac31de71c2bf701a13e5f233fc6d8">&#9670;&#160;</a></span>ads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAdafruit__ADS1115.html">Adafruit_ADS1115</a> ads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analog to digital converter object (I2C) </p>
<p>Interface for the analog to digital converter. <br  />
 </p>

</div>
</div>
<a id="add9553c173198049d23f8a89fe11142c" name="add9553c173198049d23f8a89fe11142c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9553c173198049d23f8a89fe11142c">&#9670;&#160;</a></span>gator_prefs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Preferences</a> gator_prefs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NVS memory object. </p>
<p>Reference to non-volatile-storage on ESP32.</p>
<p>NVS memory access interface. </p>

</div>
</div>
<a id="a106fc9194d62779ffe942b866046530d" name="a106fc9194d62779ffe942b866046530d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106fc9194d62779ffe942b866046530d">&#9670;&#160;</a></span>maxlipo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">Adafruit_MAX17048</a> maxlipo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MAX17048 battery Fuel Gauge. </p>
<p>Interface for the battery fuel gauge. </p>

</div>
</div>
<a id="ac334200b5e3db6f6228d37cec3b03538" name="ac334200b5e3db6f6228d37cec3b03538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac334200b5e3db6f6228d37cec3b03538">&#9670;&#160;</a></span>maxlipo_attached</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a> maxlipo_attached</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fuel Gauge successfully initialized? </p>
<p>External flag indicating whether maxlipo was initialized successfully. </p>

</div>
</div>
<a id="a2df27a00b191de3537c3b53adcecf1e8" name="a2df27a00b191de3537c3b53adcecf1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df27a00b191de3537c3b53adcecf1e8">&#9670;&#160;</a></span>reset_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int reset_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of resets retrieved for NVS </p>
<p>External variable holding the number of resets recorded by the system. Stored and loaded from non-volatile storage. </p>

</div>
</div>
<a id="a45a3fd1220b5c8c7557fb18db8c20e50" name="a45a3fd1220b5c8c7557fb18db8c20e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a3fd1220b5c8c7557fb18db8c20e50">&#9670;&#160;</a></span>USB_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">const</a> <a class="el" href="src_2main_8cpp.html#a2df27a00b191de3537c3b53adcecf1e8">bool</a> USB_DEBUG = <a class="el" href="config_8hpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB serial debugging enabled. </p>
<p>Serial debug enable flag, set in <a class="el" href="config_8h_source.html">config.h</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="src_2main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
